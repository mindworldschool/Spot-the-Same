<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Spot the Same - MindWorld School</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Экран загрузки -->
  <div id="loading-screen" class="screen">
    <div class="loading-content">
      <div class="loader"></div>
      <p class="loading-text" data-i18n="loading">Завантаження...</p>
    </div>
  </div>

  <!-- Главное меню -->
  <div id="menu-screen" class="screen hidden">
    <header class="game-header">
      <div class="header-logo">
        <img src="images/logo.png" alt="MindWorld School" class="logo-img">
      </div>
      <div class="header-center">
        <h1 class="game-title" data-i18n="gameTitle">Spot the Same</h1>
        <p class="game-subtitle" data-i18n="gameSubtitle">MindWorld School</p>
      </div>
      <div class="header-lang">
        <div class="lang-capsule">
          <button class="lang-btn active" data-lang="ua">UA</button>
          <button class="lang-btn" data-lang="en">EN</button>
          <button class="lang-btn" data-lang="ru">RU</button>
          <button class="lang-btn" data-lang="es">ES</button>
        </div>
      </div>
    </header>

    <main class="setup-screen">
      <div class="setup-section">
        <h3 data-i18n="playersCount">Количество игроков</h3>
        <div class="setup-buttons">
          <button class="btn active" data-players="1">1</button>
          <button class="btn" data-players="2">2</button>
          <button class="btn" data-players="3">3</button>
          <button class="btn" data-players="4">4</button>
        </div>
      </div>

      <div class="setup-section">
        <h3 data-i18n="difficulty">Сложность</h3>
        <div class="setup-buttons">
          <button class="btn" data-difficulty="easy">
            <span data-i18n="difficultyEasy">Легко</span><br>
            <small>13 <span data-i18n="cardsInfo">карт • 4 символа</span></small>
          </button>
          <button class="btn active" data-difficulty="medium">
            <span data-i18n="difficultyMedium">Средне</span><br>
            <small>31 <span data-i18n="cardsInfo">карта • 6 символов</span></small>
          </button>
          <button class="btn" data-difficulty="hard">
            <span data-i18n="difficultyHard">Сложно</span><br>
            <small>55 <span data-i18n="cardsInfo">карт • 8 символов</span></small>
          </button>
        </div>
      </div>

      <div class="setup-section timer-slider-section" id="timer-section">
        <h3 data-i18n="moveTime">Час на хід</h3>
        <div class="timer-slider-container">
          <input type="range" class="timer-slider" id="timer-slider" min="0" max="180" value="60" step="5">
          <span class="timer-value" id="timer-value">1:00</span>
        </div>
      </div>

      <button class="btn-primary btn-start" data-i18n="startGame">Начать игру</button>
    </main>
  </div>

  <!-- Игровой экран -->
  <div id="game-screen" class="screen hidden">
    <!-- Информационная панель ВВЕРХУ -->
    <div class="game-info">
      <!-- Ліворуч: Лічильник карт -->
      <div class="info-left">
        <span class="cards-remaining"><span data-i18n="cardsRemaining">Залишилось:</span> <strong id="cards-remaining">0</strong></span>
      </div>

      <!-- Посередині: Таймер (для 1 гравця) або Панель гравців (для 2-4) -->
      <div class="info-center">
        <span class="timer hidden" id="timer-display">⏱️ <strong>60</strong></span>
        <div class="players-scores-top hidden" id="players-scores-top">
          <!-- Гравці додаються через JS -->
        </div>
      </div>

      <!-- Праворуч: Кнопки -->
      <div class="info-right">
        <button class="btn-icon btn-pause" aria-label="Пауза" data-i18n-title="pause">⏸</button>
        <button class="btn-icon btn-exit" aria-label="Вийти" data-i18n-title="exit">✖</button>
      </div>
    </div>

    <!-- Игровое поле -->
    <div class="game-board" id="game-board">
      <!-- Карти додаються через JS -->
    </div>
  </div>

  <!-- Экран результатов -->
  <div id="results-screen" class="screen hidden">
    <div class="results-content">
      <h2 class="results-title" data-i18n="gameOver">Гра закінчена!</h2>

      <!-- Результаты для 1 игрока -->
      <div class="solo-results hidden" id="solo-results">
        <div class="stat-card">
          <span class="stat-label" data-i18n="collectedCards">Зібрано карт</span>
          <span class="stat-value" id="solo-cards">0</span>
        </div>
        <div class="stat-card">
          <span class="stat-label" data-i18n="time">Час</span>
          <span class="stat-value" id="solo-time">0:00</span>
        </div>
        <div class="stat-card">
          <span class="stat-label" data-i18n="accuracy">Точність</span>
          <span class="stat-value" id="solo-accuracy">100%</span>
        </div>
      </div>

      <!-- Результаты для 2+ игроков -->
      <div class="multi-results hidden" id="multi-results">
        <div class="winners-podium" id="winners-podium">
          <!-- Генерируется JS -->
        </div>
      </div>

      <div class="results-actions">
        <button class="btn-primary btn-play-again" data-i18n="playAgain">Грати знову</button>
        <button class="btn-secondary btn-menu" data-i18n="toMenu">В меню</button>
      </div>
    </div>
  </div>

  <!-- Модальное окно паузы -->
  <div id="pause-modal" class="modal hidden">
    <div class="modal-content">
      <h3 data-i18n="pauseTitle">Пауза</h3>
      <button class="btn-primary btn-resume" data-i18n="resume">Продовжити</button>
      <button class="btn-secondary btn-exit-game" data-i18n="exitToMenu">Вийти в меню</button>
    </div>
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>
